<?xml version="1.0" encoding="UTF-8"?>
<f:view xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
		xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:h="http://xmlns.jcp.org/jsf/html"
		xmlns:p="http://primefaces.org/ui">

	<h:head>
	</h:head>
	<h:body>
		<div id="exceptionHandlerViewDiv">primeExceptionHandler View</div>


		<p:ajaxExceptionHandler update="exceptionDialogId" onexception="console.log(message); debugger; PF('exceptionDialog1').show();" />

		<p:dialog id="exceptionDialogId" header="Error" widgetVar="exceptionDialog1" modal="false" >
			<p:panelGrid id="exception-panel" columns="1" styleClass="ui-state-error" columnClasses="ui-state-error">
				<p:outputLabel styleClass="ui-state-error-text" value="Some error! Contact administrator, please." />
				<p:outputLabel styleClass="ui-state-error-text" rendered="#{pfExceptionHandler.exception != null}"
							   value="Technical Details: #{pfExceptionHandler.formattedTimestamp} #{pfExceptionHandler.type} #{pfExceptionHandler.message}" />
			</p:panelGrid>
		</p:dialog>

		<!-- p:log / -->

		<h:form id="form-test-error">
			<p:commandButton value="Action Error" action="#{exceptionHandlerBean.causeActionError}" ajax="false" />
			<p:commandButton value="Action Error AJAX" action="#{exceptionHandlerBean.causeActionError}" update="label" />
			<br /><br />
			<p:commandButton value="Render Error" action="#{exceptionHandlerBean.causeRenderError}" ajax="false" />
			<p:commandButton value="Render Error AJAX" action="#{exceptionHandlerBean.causeRenderError}" update="label" />
			<br /><br />
			<p:outputLabel id="label" value="#{exceptionHandlerBean.status}" />
			<br />
		</h:form>


	</h:body>

</f:view>
